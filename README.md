# TryOn (Flutter)

A cross-platform Flutter app for a simple e‑commerce experience with a Virtual Try‑On feature. The app integrates Firebase for auth, database, and storage, and uses GetX for state management/navigation.

## Features
- Firebase Authentication (email/password)
- Cloud Firestore for data
- Firebase Storage for media
- Product catalog, cart, orders, favorites
- Virtual Try‑On module (`lib/features/virtual_try_on`)
- Image picking and permissions
- GetX navigation and simple DI

## Tech stack
- Flutter 3.32.x (Dart 3.8.x)
- GetX, Provider
- Firebase: `firebase_core`, `firebase_auth`, `cloud_firestore`, `firebase_storage`
- UI: `google_fonts`, `shimmer`, `lottie` (3.3.1)
- Utilities: `http`, `dio`, `uuid`, `intl`, `url_launcher`, `image_picker`, `permission_handler`, `webview_flutter`

## Requirements
- Flutter SDK: 3.32.x stable
- Dart SDK: 3.8.x
- Android Studio / Xcode as applicable
- Firebase project (iOS/Android/Web) with configs

> Note: The project pins `lottie: ^3.3.1` for compatibility with Dart 3.8.x. If you upgrade Flutter/Dart, you may raise this version accordingly.

## Getting started
1. Clone the repo
```bash
git clone <your-repo-url>
cd tryon
```
2. Fetch packages
```bash
flutter pub get
```
3. (Recommended) Open in Android Studio or VS Code with Flutter/Dart extensions.

## Firebase setup
The repo already includes example platform configs under `ios/` and `android/`:
- Android: `android/app/google-services.json`
- iOS: `ios/Runner/GoogleService-Info.plist`
- macOS: `macos/Runner/GoogleService-Info.plist` (if using)

Also ensure `lib/firebase_options.dart` exists (it already does in this repo). If you need to regenerate it:
```bash
flutter pub add flutterfire_cli
flutterfire configure
```
This creates `firebase_options.dart` and updates platform build files.

### Android
- Ensure Google Services Gradle plugin is applied (already configured by FlutterFire):
  - `android/build.gradle.kts` → `classpath("com.google.gms:google-services:<version>")`
  - `android/app/build.gradle.kts` → `plugins { id("com.google.gms.google-services") }`
- Place your `google-services.json` in `android/app/` (already present).
- Set the minimum SDK in `android/app/build.gradle.kts` if needed (usually 21+).

### iOS
- Place `GoogleService-Info.plist` in `ios/Runner/` (already present).
- Open `ios/Runner.xcworkspace` in Xcode, select a team, and run.

### Web (optional)
- Configure Firebase web app in `web/index.html` and `web/manifest.json` as needed.
- Some plugins may require additional setup for the web platform.

## Running the app
- Device/emulator selection and run:
```bash
flutter devices
flutter run
```
- To run for a specific platform:
```bash
flutter run -d windows   # Windows desktop
flutter run -d chrome    # Web
flutter run -d emulator  # Android emulator
```

## Building releases
- Android (APK/AAB):
```bash
flutter build apk --release
flutter build appbundle --release
```
- iOS:
```bash
flutter build ios --release
```
- Web:
```bash
flutter build web --release
```

## Project structure (high-level)
```
lib/
  component/              # Reusable widgets (buttons, dialogs, cards)
  constant/               # Colors, images, static lists
  features/virtual_try_on # Try‑On models, views, controller
  model/                  # Data models
  repository/             # Repositories (auth, product, order)
  view/                   # Screens (auth, cart, product, order, navigation)
  view_model/             # Controllers (GetX)
  firebase_options.dart   # Generated by FlutterFire
  main.dart               # App entry
```

## Configuration and environment
- The project includes `flutter_dotenv`, but `.env` loading is commented in `main.dart`. If you want to use environment variables:
  1. Create a `.env` file in the project root.
  2. Uncomment the `dotenv.load` call in `lib/main.dart`.
  3. Add keys accordingly and avoid committing secrets.

## Linting and analysis
```bash
flutter analyze
```
The project uses `flutter_lints`. You may see file-naming style infos (e.g., PascalCase file names). These are informative and not build blockers.

## Permissions
- Image Picker and Permission Handler may require platform manifest changes.
- Android: Check `AndroidManifest.xml` for `READ_EXTERNAL_STORAGE`, `CAMERA`, etc., as needed.
- iOS: Add reason strings to `Info.plist` (e.g., `NSCameraUsageDescription`, `NSPhotoLibraryUsageDescription`).

## Troubleshooting
- Dependency resolution fails with `lottie` SDK constraint:
  - Use `lottie: ^3.3.1` with Dart 3.8.x (already set), or
  - Upgrade Flutter/Dart (e.g., Flutter 3.35.x / Dart 3.9.x) and then bump `lottie`.
- Firebase initialization errors:
  - Verify `firebase_options.dart` is present and `Firebase.initializeApp` uses it.
  - Ensure platform config files are in correct locations.
- Build fails on iOS:
  - Run `cd ios && pod install` after `flutter clean` and `flutter pub get`.
- Stuck Gradle cache:
  - Run `flutter clean && flutter pub get`.

## License
This project is provided as-is. Add your preferred license if distributing publicly.
